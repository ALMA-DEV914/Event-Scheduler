(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{161:function(e,t,a){},198:function(e,t,a){e.exports=a.p+"static/media/cd-logo.e688427b.svg"},209:function(e,t,a){e.exports=a.p+"static/media/github-brands.3959958a.svg"},211:function(e,t,a){e.exports=a(566)},216:function(e,t,a){},250:function(e,t,a){},252:function(e,t,a){},254:function(e,t,a){},256:function(e,t,a){},258:function(e,t,a){},550:function(e,t,a){},552:function(e,t,a){},560:function(e,t,a){},564:function(e,t,a){},566:function(e,t,a){"use strict";a.r(t);var n,i=a(0),s=a.n(i),o=a(25),r=a.n(o),l=(a(216),a(19)),c=a(20),d=a(22),m=a(21),u=a(23),p=a(36),h=a(26),g={isUserLoggedIn:!1},v=a(210),f=a(11),b={events:[],error:null,isLoadingUserEvents:!1,isRequestingEventAPI:!1},E=Object(p.c)({User:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_SIGN_IN":return{isUserLoggedIn:!0,username:t.username};case"USER_LOG_OUT":return g;default:return e}},Event:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_EVENTS":return Object(f.a)({},e,{events:t.events});case"ADD_EVENT":return Object(f.a)({},e,{events:[].concat(Object(v.a)(e.events),[t.event])});case"DELETE_EVENTS":return Object(f.a)({},e,{events:e.events.filter(function(e){return t.eventIdsToDelete.indexOf(e.eventId)<0})});case"UPDATE_EVENT":return Object(f.a)({},e,{events:e.events.map(function(e){return e.eventId===t.newEvent.eventId?t.newEvent:e})});case"SET_ERROR":return Object(f.a)({},e,{error:t.error});case"CLEAR_ERROR":return Object(f.a)({},e,{error:null});case"LOAD_USER_EVENTS_BEGIN":return Object(f.a)({},e,{isLoadingUserEvents:!0});case"LOAD_USER_EVENTS_FINISH":return Object(f.a)({},e,{isLoadingUserEvents:!1});default:return e}}}),_=a(197),O=a(27),y=a.n(O),S=[].concat([{eventId:"1545273914851",title:"Meeting",location:"Wheeler 150",description:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Velit, unde, nulla. Vel unde deleniti, distinctio inventore quis molestiae perferendis, eum quo harum dolorum reiciendis sunt dicta maiores similique! Officiis repellat iure odio debitis enim eius commodi quae deserunt quam assumenda, ab asperiores reiciendis minima maxime odit laborum, libero veniam non?",color:5734290,startAt:570,endAt:630,weekday:0},{eventId:"1545273914852",title:"Meeting",location:"Wheeler 150",description:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Velit, unde, nulla. Vel unde deleniti, distinctio inventore quis molestiae perferendis, eum quo harum dolorum reiciendis sunt dicta maiores similique! Officiis repellat iure odio debitis enim eius commodi quae deserunt quam assumenda, ab asperiores reiciendis minima maxime odit laborum, libero veniam non?",color:5734290,startAt:750,endAt:840,weekday:4},{eventId:"1545273914853",title:"Meeting",location:"Wheeler 150",description:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Velit, unde, nulla. Vel unde deleniti, distinctio inventore quis molestiae perferendis, eum quo harum dolorum reiciendis sunt dicta maiores similique! Officiis repellat iure odio debitis enim eius commodi quae deserunt quam assumenda, ab asperiores reiciendis minima maxime odit laborum, libero veniam non?",color:5734290,startAt:570,endAt:630,weekday:3},{eventId:"1545273914854",title:"Meeting",location:"Wheeler 150",description:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Velit, unde, nulla. Vel unde deleniti, distinctio inventore quis molestiae perferendis, eum quo harum dolorum reiciendis sunt dicta maiores similique! Officiis repellat iure odio debitis enim eius commodi quae deserunt quam assumenda, ab asperiores reiciendis minima maxime odit laborum, libero veniam non?",color:5734290,startAt:930,endAt:990,weekday:3},{eventId:"1545273914855",title:"Meeting",location:"Wheeler 150",description:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Velit, unde, nulla. Vel unde deleniti, distinctio inventore quis molestiae perferendis, eum quo harum dolorum reiciendis sunt dicta maiores similique! Officiis repellat iure odio debitis enim eius commodi quae deserunt quam assumenda, ab asperiores reiciendis minima maxime odit laborum, libero veniam non?",color:5734290,startAt:810,endAt:900,weekday:1}],[{eventId:"1545273914856",title:"Phone Call",location:"Recreational Sports Company",description:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Velit, unde, nulla. Vel unde deleniti, distinctio inventore quis molestiae perferendis, eum quo harum dolorum reiciendis sunt dicta maiores similique! Officiis repellat iure odio debitis enim eius commodi quae deserunt quam assumenda, ab asperiores reiciendis minima maxime odit laborum, libero veniam non?",color:4469843,startAt:660,endAt:750,weekday:0},{eventId:"1545273914857",title:"Phone Call",location:"AB Company client",description:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Velit, unde, nulla. Vel unde deleniti, distinctio inventore quis molestiae perferendis, eum quo harum dolorum reiciendis sunt dicta maiores similique! Officiis repellat iure odio debitis enim eius commodi quae deserunt quam assumenda, ab asperiores reiciendis minima maxime odit laborum, libero veniam non?",color:4469843,startAt:600,endAt:660,weekday:1},{eventId:"1545273914858",title:"Phone Call",location:"Marketing Team",description:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Velit, unde, nulla. Vel unde deleniti, distinctio inventore quis molestiae perferendis, eum quo harum dolorum reiciendis sunt dicta maiores similique! Officiis repellat iure odio debitis enim eius commodi quae deserunt quam assumenda, ab asperiores reiciendis minima maxime odit laborum, libero veniam non?",color:4469843,startAt:720,endAt:825,weekday:2},{eventId:"1545273914859",title:"Phone Call",location:"CEO Virginia West",description:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Velit, unde, nulla. Vel unde deleniti, distinctio inventore quis molestiae perferendis, eum quo harum dolorum reiciendis sunt dicta maiores similique! Officiis repellat iure odio debitis enim eius commodi quae deserunt quam assumenda, ab asperiores reiciendis minima maxime odit laborum, libero veniam non?",color:4469843,startAt:1020,endAt:1110,weekday:3},{eventId:"1545273914860",title:"Phone Call",location:"Team member AF",description:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Velit, unde, nulla. Vel unde deleniti, distinctio inventore quis molestiae perferendis, eum quo harum dolorum reiciendis sunt dicta maiores similique! Officiis repellat iure odio debitis enim eius commodi quae deserunt quam assumenda, ab asperiores reiciendis minima maxime odit laborum, libero veniam non?",color:4469843,startAt:600,endAt:660,weekday:4}],[{eventId:"1545273914861",title:"Add features",location:"Project 1",description:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Velit, unde, nulla. Vel unde deleniti, distinctio inventore quis molestiae perferendis, eum quo harum dolorum reiciendis sunt dicta maiores similique! Officiis repellat iure odio debitis enim eius commodi quae deserunt quam assumenda, ab asperiores reiciendis minima maxime odit laborum, libero veniam non?",color:10664370,startAt:840,endAt:915,weekday:0},{eventId:"1545273914862",title:"Debug",location:"Project 2",description:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Velit, unde, nulla. Vel unde deleniti, distinctio inventore quis molestiae perferendis, eum quo harum dolorum reiciendis sunt dicta maiores similique! Officiis repellat iure odio debitis enim eius commodi quae deserunt quam assumenda, ab asperiores reiciendis minima maxime odit laborum, libero veniam non?",color:10664370,startAt:945,endAt:1005,weekday:1},{eventId:"1545273914863",title:"Start Project 3",location:"Project with ABC client",description:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Velit, unde, nulla. Vel unde deleniti, distinctio inventore quis molestiae perferendis, eum quo harum dolorum reiciendis sunt dicta maiores similique! Officiis repellat iure odio debitis enim eius commodi quae deserunt quam assumenda, ab asperiores reiciendis minima maxime odit laborum, libero veniam non?",color:10664370,startAt:645,endAt:705,weekday:2},{eventId:"1545273914864",title:"Continue Projetc 3",location:"Project with ABC client",description:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Velit, unde, nulla. Vel unde deleniti, distinctio inventore quis molestiae perferendis, eum quo harum dolorum reiciendis sunt dicta maiores similique! Officiis repellat iure odio debitis enim eius commodi quae deserunt quam assumenda, ab asperiores reiciendis minima maxime odit laborum, libero veniam non?",color:10664370,startAt:825,endAt:900,weekday:2},{eventId:"1545273914865",title:"Review code",location:"Project 2",description:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Velit, unde, nulla. Vel unde deleniti, distinctio inventore quis molestiae perferendis, eum quo harum dolorum reiciendis sunt dicta maiores similique! Officiis repellat iure odio debitis enim eius commodi quae deserunt quam assumenda, ab asperiores reiciendis minima maxime odit laborum, libero veniam non?",color:10664370,startAt:945,endAt:1005,weekday:4}],[{eventId:"1545273914866",title:"Send email to client",location:"ABC client",description:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Velit, unde, nulla. Vel unde deleniti, distinctio inventore quis molestiae perferendis, eum quo harum dolorum reiciendis sunt dicta maiores similique! Officiis repellat iure odio debitis enim eius commodi quae deserunt quam assumenda, ab asperiores reiciendis minima maxime odit laborum, libero veniam non?",color:16167015,startAt:690,endAt:780,weekday:1},{eventId:"1545273914867",title:"Send email of projetc details",location:"Harvested Corporation",description:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Velit, unde, nulla. Vel unde deleniti, distinctio inventore quis molestiae perferendis, eum quo harum dolorum reiciendis sunt dicta maiores similique! Officiis repellat iure odio debitis enim eius commodi quae deserunt quam assumenda, ab asperiores reiciendis minima maxime odit laborum, libero veniam non?",color:16167015,startAt:540,endAt:615,weekday:2},{eventId:"1545273914868",title:"Respond emails",location:"Gavin Company",description:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Velit, unde, nulla. Vel unde deleniti, distinctio inventore quis molestiae perferendis, eum quo harum dolorum reiciendis sunt dicta maiores similique! Officiis repellat iure odio debitis enim eius commodi quae deserunt quam assumenda, ab asperiores reiciendis minima maxime odit laborum, libero veniam non?",color:16167015,startAt:720,endAt:825,weekday:3}]),w=30,C=50,N=50,j=15,A=540,I=1080,k=["Monday","Tuesday","Wednesday","Thursday","Friday"],M={title:"",location:"",description:"",color:6911625,startAt:540,endAt:570,weekday:0},q=["#0693E3","#443453","#555555","#577F92","#697689","#8ED1FC","#A2B9B2","#F6B067","#F57F17","#F78DA7"],T="Signin",L="Reset",U="Signup",D="username",V="email",P="password",W="USERNAME_ERROR",x="EMAIL_ERROR",B="PASSWORD_ERROR",R="/api/v1/users",F="/api/v1/events",H={Unauthorized:"Unauthorized",JsonWebTokenError:"JsonWebTokenError",TokenExpiredError:"TokenExpiredError",DeletedUser:"DeletedUser"},z={EmailRegistered:"EmailRegistered",UserNotFound:"UserNotFound",WrongPassword:"WrongPassword"},K={EventNotFound:"EventNotFound"},Y=function(e){return function(t){t({type:"SET_EVENTS",events:e})}},G=function(e){return function(t){t({type:"SET_ERROR",error:e})}},X=function(){return function(e){e({type:"LOAD_USER_EVENTS_BEGIN"}),y.a.get("".concat(F,"/all")).then(function(t){e({type:"LOAD_USER_EVENTS_FINISH"});var a=t.data.data.events;e(Y(a))}).catch(function(t){if(e({type:"LOAD_USER_EVENTS_FINISH"}),t.response){var a=t.response.data.error;e(G(a))}else e(G(t))})}},$=function(e,t){return function(a){console.log("sign in user: ",e);var n=e.username,i=e.token,s="".concat("Bearer"," ").concat(i);if(y.a.defaults.headers.common.Authorization=s,t){var o=Date.now()+1e3*e.expiresIn;localStorage.setItem("USERNAME_KEY",n),localStorage.setItem("TOKEN_KEY",i),localStorage.setItem("EXPIRESAT_KEY",o)}a({type:"USER_SIGN_IN",username:n}),a(X())}},Z=function(){return function(e){delete y.a.defaults.headers.common.Authorization,localStorage.removeItem("USERNAME_KEY"),localStorage.removeItem("TOKEN_KEY"),localStorage.removeItem("EXPIRESAT_KEY"),e({type:"USER_LOG_OUT"}),e(Y([]))}},J=a(18),Q=a(4);function ee(e,t,a){return function(n){return n?e+(t?" "+t:""):e+(a?" "+a:"")}}var te=(n={},Object(Q.a)(n,V,function(e){return Object(Q.a)({},x,!e||/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)?"":"Invalid email address")}),Object(Q.a)(n,D,function(e){return Object(Q.a)({},W,!e||/^[a-zA-Z0-9](_(?!(\.|_))|\.(?!(_|\.))|[a-zA-Z0-9]){0,10}[a-zA-Z0-9]$/.test(e)?"":"2~12 long alphabets and numbers, no leading/ending space or .")}),Object(Q.a)(n,P,function(e){return Object(Q.a)({},B,!e||/^[a-zA-Z0-9!@#$%^&]{4,30}$/.test(e)?"":"4~30 long alphabets, numbers and symbols of !@#$%^&")}),n),ae=(a(81),function(e){function t(){var e,a,n;Object(l.a)(this,t);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).initialState=(a={isPasswordHidden:!0},Object(Q.a)(a,V,""),Object(Q.a)(a,x,""),Object(Q.a)(a,P,""),Object(Q.a)(a,B,""),Object(Q.a)(a,"isWaitingApi",!1),a),n.state=Object(f.a)({},n.initialState),n.handleInputValueChange=function(e){var t=e.target,a=t.value,i=t.name,s=te[i](a);n.setState(Object(f.a)({},s,Object(Q.a)({},i,a)))},n.toggleHidePassword=function(e){e.preventDefault(),e.stopPropagation(),n.setState(function(e){return{isPasswordHidden:!e.isPasswordHidden}})},n.toggleInputClassBy=ee("cd-signin-modal__input cd-signin-modal__input--full-width cd-signin-modal__input--has-padding cd-signin-modal__input--has-border","cd-signin-modal__input--has-error"),n.toggleSpanClassBy=ee("cd-signin-modal__error","cd-signin-modal__error--is-visible"),n.handleSubmit=function(e){e.preventDefault();for(var t=[V,P],a=[x,B],i={},s=0;s<t.length;s++){var o=n.state[t[s]];if(!o)return n.setState(Object(Q.a)({},a[s],"This field is required"));i[t[s]]=o}n.setState({isWaitingApi:!0}),y.a.post("".concat(R,"/login"),i).then(function(e){n.setState(Object(f.a)({},n.initialState)),n.props.closeModal(),J.toast.info("\ud83c\udf89 You are logged in!"),n.props.signUserIn(e.data.data,n.checkBox.checked)}).catch(function(e){if(n.setState({isWaitingApi:!1}),e.response){var t=e.response.data.error;console.log(t),t.name===z.UserNotFound&&n.setState(Object(Q.a)({},x,"Cannot find account with this email")),t.name===z.WrongPassword&&n.setState(Object(Q.a)({},B,"Wrong password"))}else console.log(e),J.toast.warn("\ud83d\ude31 Connection to server failed")})},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state[V],a=this.state[x],n=this.state[P],i=this.state[B],o=this.state,r=o.isPasswordHidden,l=o.isWaitingApi;return s.a.createElement("form",{className:"cd-signin-modal__form",onSubmit:this.handleSubmit},s.a.createElement("p",{className:"cd-signin-modal__fieldset"},s.a.createElement("label",{className:"cd-signin-modal__label cd-signin-modal__label--email cd-signin-modal__label--image-replace",htmlFor:"signin-email"},"E-mail"),s.a.createElement("input",{id:"signin-email",type:"email",placeholder:"E-mail",name:V,value:t,onChange:this.handleInputValueChange,className:this.toggleInputClassBy(a)}),s.a.createElement("span",{className:this.toggleSpanClassBy(a)},a)),s.a.createElement("p",{className:"cd-signin-modal__fieldset"},s.a.createElement("label",{className:"cd-signin-modal__label cd-signin-modal__label--password cd-signin-modal__label--image-replace",htmlFor:"signin-password"},"Password"),s.a.createElement("input",{id:"signin-password",placeholder:"Password",name:P,value:n,onChange:this.handleInputValueChange,type:r?"password":"text",className:this.toggleInputClassBy(i)}),s.a.createElement("a",{href:"#0",className:"cd-signin-modal__hide-password js-hide-password",onClick:this.toggleHidePassword},r?"Show":"Hide"),s.a.createElement("span",{className:this.toggleSpanClassBy(i)},i)),s.a.createElement("p",{className:"cd-signin-modal__fieldset"},s.a.createElement("input",{type:"checkbox",id:"remember-me",className:"cd-signin-modal__input",ref:function(t){return e.checkBox=t}}),s.a.createElement("label",{htmlFor:"remember-me",className:"checkBox-label"},"Remember me")),s.a.createElement("p",{className:"cd-signin-modal__fieldset"},s.a.createElement("input",{className:"cd-signin-modal__input cd-signin-modal__input--full-width",type:"submit",disabled:l,value:this.state.isWaitingApi?"Waiting response...":"Login"})))}}]),t}(i.Component)),ne={signUserIn:$},ie=Object(h.b)(function(e){return{}},ne)(ae),se=1e3,oe=function(e){function t(){var e,a,n;Object(l.a)(this,t);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).initialState=(a={isPasswordHidden:!0,isTermsShown:!1},Object(Q.a)(a,D,""),Object(Q.a)(a,W,""),Object(Q.a)(a,V,""),Object(Q.a)(a,x,""),Object(Q.a)(a,P,""),Object(Q.a)(a,B,""),Object(Q.a)(a,"isWaitingApi",!1),a),n.state=Object(f.a)({},n.initialState),n.handleInputValueChange=function(e){var t=e.target,a=t.value,i=t.name,s=te[i](a);n.setState(Object(f.a)({},s,Object(Q.a)({},i,a)))},n.toggleHidePassword=function(e){e.preventDefault(),e.stopPropagation(),n.setState(function(e){return{isPasswordHidden:!e.isPasswordHidden}})},n.toggleInputClassBy=ee("cd-signin-modal__input cd-signin-modal__input--full-width cd-signin-modal__input--has-padding cd-signin-modal__input--has-border","cd-signin-modal__input--has-error"),n.toggleSpanClassBy=ee("cd-signin-modal__error","cd-signin-modal__error--is-visible"),n.toggleTermsDetailsClassBy=ee("signup-form-terms-detail","signup-form-terms-detail--is-visible"),n.handleSubmit=function(e){e.preventDefault();for(var t=[D,V,P],a=[W,x,B],i={},s=0;s<t.length;s++){var o=n.state[t[s]];if(!o)return n.setState(Object(Q.a)({},a[s],"This field is required"));i[t[s]]=o}if(!n.checkBox.checked)return n.setState({isTermsShown:!0}),setTimeout(function(){n.setState({isTermsShown:!1})},se);n.setState({isWaitingApi:!0}),y.a.post("".concat(R,"/signup"),i).then(function(e){n.setState(Object(f.a)({},n.initialState)),n.props.closeModal(),J.toast.info("\ud83c\udf89 You are logged in!"),n.props.signUserIn(e.data.data,!0)}).catch(function(e){if(n.setState({isWaitingApi:!1}),e.response){var t=e.response.data.error;console.log(t),t.name===z.EmailRegistered&&n.setState(Object(Q.a)({},x,"This email has been registered, use a different email address"))}else console.log(e),J.toast.warn("\ud83d\ude31 Connection to server failed")})},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state[D],a=this.state[W],n=this.state[V],i=this.state[x],o=this.state[P],r=this.state[B],l=this.state,c=l.isPasswordHidden,d=l.isWaitingApi;return s.a.createElement("form",{className:"cd-signin-modal__form",onSubmit:this.handleSubmit},s.a.createElement("p",{className:"cd-signin-modal__fieldset"},s.a.createElement("label",{className:"cd-signin-modal__label cd-signin-modal__label--username cd-signin-modal__label--image-replace",htmlFor:"signup-username"},"Username"),s.a.createElement("input",{type:"text",placeholder:"Username",name:D,value:t,onChange:this.handleInputValueChange,className:this.toggleInputClassBy(a)}),s.a.createElement("span",{className:this.toggleSpanClassBy(a)},a)),s.a.createElement("p",{className:"cd-signin-modal__fieldset"},s.a.createElement("label",{className:"cd-signin-modal__label cd-signin-modal__label--email cd-signin-modal__label--image-replace",htmlFor:"signup-email"},"E-mail"),s.a.createElement("input",{id:"signup-email",type:"email",placeholder:"E-mail",name:V,value:n,onChange:this.handleInputValueChange,className:this.toggleInputClassBy(i)}),s.a.createElement("span",{className:this.toggleSpanClassBy(i)},i)),s.a.createElement("p",{className:"cd-signin-modal__fieldset"},s.a.createElement("label",{className:"cd-signin-modal__label cd-signin-modal__label--password cd-signin-modal__label--image-replace",htmlFor:"signup-password"},"Password"),s.a.createElement("input",{id:"signup-password",placeholder:"Password",name:P,value:o,onChange:this.handleInputValueChange,type:c?"password":"text",className:this.toggleInputClassBy(r)}),s.a.createElement("a",{href:"#0",className:"cd-signin-modal__hide-password js-hide-password",onClick:this.toggleHidePassword},c?"Show":"Hide"),s.a.createElement("span",{className:this.toggleSpanClassBy(r)},r)),s.a.createElement("p",{className:"cd-signin-modal__fieldset"},s.a.createElement("input",{type:"checkbox",id:"accept-terms",className:"cd-signin-modal__input",ref:function(t){return e.checkBox=t}}),s.a.createElement("label",{htmlFor:"accept-terms",className:"checkBox-label",ref:function(t){return e.lable=t}},"I agree to the"," ",s.a.createElement("span",{className:"signup-form-terms",onMouseOver:function(){e.setState({isTermsShown:!0})},onMouseOut:function(){setTimeout(function(){e.setState({isTermsShown:!1})},200)}},"Terms")),s.a.createElement("span",{className:this.toggleTermsDetailsClassBy(this.state.isTermsShown)},"Terms: Your data won't be permanently preserved in the database since this is a demo website, the database periodically cleans up each week. You may want to signup again after that.")),s.a.createElement("p",{className:"cd-signin-modal__fieldset"},s.a.createElement("input",{className:"cd-signin-modal__input cd-signin-modal__input--full-width cd-signin-modal__input--has-padding",type:"submit",disabled:d,value:this.state.isWaitingApi?"Waiting response...":"Create account"})))}}]),t}(i.Component),re={signUserIn:$},le=Object(h.b)(function(e){return{}},re)(oe),ce=function(e){function t(){var e,a,n;Object(l.a)(this,t);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).initialState=(a={},Object(Q.a)(a,V,""),Object(Q.a)(a,x,""),Object(Q.a)(a,"isWaitingApi",!1),a),n.state=Object(f.a)({},n.initialState),n.handleInputValueChange=function(e){var t=e.target,a=t.value,i=t.name,s=te[i](a);n.setState(Object(f.a)({},s,Object(Q.a)({},i,a)))},n.toggleInputClassBy=ee("cd-signin-modal__input cd-signin-modal__input--full-width cd-signin-modal__input--has-padding cd-signin-modal__input--has-border","cd-signin-modal__input--has-error"),n.toggleSpanClassBy=ee("cd-signin-modal__error","cd-signin-modal__error--is-visible"),n.handleSubmit=function(e){e.preventDefault();var t=n.state[V];if(!t)return n.setState(Object(Q.a)({},x,"This field is required"));n.setState({isWaitingApi:!0}),y.a.delete("".concat(R),{data:{email:t}}).then(function(e){n.setState(Object(f.a)({},n.initialState)),n.props.closeModal(),J.toast.warn("\u2620\ufe0f Account deleted!")}).catch(function(e){if(n.setState({isWaitingApi:!1}),e.response){var t=e.response.data.error;console.log(t),t.name===z.UserNotFound&&n.setState(Object(Q.a)({},x,"Cannot find account with this email"))}else console.log(e),J.toast.warn("\ud83d\ude31 Connection to server failed")})},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state[V],t=this.state[x],a=this.state.isWaitingApi;return s.a.createElement("form",{className:"cd-signin-modal__form",onSubmit:this.handleSubmit},s.a.createElement("p",{className:"cd-signin-modal__fieldset"},s.a.createElement("label",{className:"cd-signin-modal__label cd-signin-modal__label--email cd-signin-modal__label--image-replace",htmlFor:"reset-email"},"E-mail"),s.a.createElement("input",{id:"reset-email",type:"email",placeholder:"E-mail",name:V,value:e,onChange:this.handleInputValueChange,className:this.toggleInputClassBy(t)}),s.a.createElement("span",{className:this.toggleSpanClassBy(t)},t)),s.a.createElement("p",{className:"cd-signin-modal__fieldset"},s.a.createElement("input",{className:"cd-signin-modal__input cd-signin-modal__input--full-width cd-signin-modal__input--has-padding",type:"submit",disabled:a,value:a?"Waiting response...":"Reset account"})))}}]),t}(i.Component),de=(a(250),document.getElementById("login-modal-root")),me=27,ue=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).escKeyDownHandler=function(e){e.stopPropagation(),a.props.isModalOpen&&e.keyCode===me&&a.props.closeModal()},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.escKeyDownHandler)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.escKeyDownHandler)}},{key:"render",value:function(){var e,t,a=this.props,n=a.isModalOpen,i=a.formToOpen,o=a.closeModal,l=a.openModalWithForm,c=(e={},Object(Q.a)(e,L,s.a.createElement(ce,{closeModal:this.props.closeModal})),Object(Q.a)(e,T,s.a.createElement(ie,{closeModal:this.props.closeModal})),Object(Q.a)(e,U,s.a.createElement(le,{closeModal:this.props.closeModal})),e),d=(t={},Object(Q.a)(t,L,s.a.createElement("p",{className:"cd-signin-modal__bottom-message"},s.a.createElement("a",{href:"#0",onClick:l(T)},"Back to log-in"))),Object(Q.a)(t,T,s.a.createElement("p",{className:"cd-signin-modal__bottom-message"},s.a.createElement("a",{href:"#0",onClick:l(L)},"reset account"))),Object(Q.a)(t,U,null),t);return r.a.createPortal(s.a.createElement("div",{className:n?"cd-signin-modal cd-signin-modal--is-visible":"cd-signin-modal"},s.a.createElement("div",{"data-iscoverlayer":"true",className:"login-modal-cover-layer",onClick:o}),s.a.createElement("div",{className:"cd-signin-modal__container"},s.a.createElement("ul",{className:"cd-signin-modal__switcher js-signin-modal-switcher"},s.a.createElement("li",null,s.a.createElement("a",{href:"#0",onClick:l(T),className:i!==U?"cd-selected":""},"Sign in")),s.a.createElement("li",null,s.a.createElement("a",{href:"#0",onClick:l(U),className:i===U?"cd-selected":""},"New account"))),s.a.createElement("div",{className:"cd-signin-modal__block cd-signin-modal__block--is-selected"},i===L&&s.a.createElement("p",{className:"cd-signin-modal__message"},"Lost your password? Please enter your email address. Your account will be reset."),c[i],d[i]),s.a.createElement("a",{href:"#0",className:"cd-signin-modal__close",onClick:o},"Close"))),de)}}]),t}(i.Component),pe=a(198),he=a.n(pe),ge=(a(252),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={isNavListVisible:!1,isModalOpen:!1,formToOpen:T},a.navClickHandler=function(e){e.preventDefault(),e.stopPropagation(),"NAV"===e.target.tagName&&a.setState(function(e){return{isNavListVisible:!e.isNavListVisible}})},a.openModalWithForm=function(e){return function(t){t&&(t.preventDefault(),t.stopPropagation()),e!==L&&e!==T&&e!==U||a.setState({isModalOpen:!0,formToOpen:e})}},a.closeModal=function(e){e&&e.preventDefault(),a.setState({isModalOpen:!1})},a.logoutClickHandler=function(e){e.stopPropagation(),e.preventDefault(),J.toast.info("\ud83d\udc4b See ya~"),a.props.logUserOut()},a.toggleNavListClassBy=ee("cd-main-nav__list","cd-main-nav__list--is-visible"),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.toggleNavListClassBy(this.state.isNavListVisible);return s.a.createElement("div",null,s.a.createElement("header",{className:"cd-main-header"},s.a.createElement("div",{className:"cd-main-header__logo"},s.a.createElement("img",{src:he.a,alt:"Logo"}),s.a.createElement("span",{className:"header-title"},"Event Scheduler")),s.a.createElement("nav",{className:"cd-main-nav",onClick:this.navClickHandler},s.a.createElement("ul",{className:e},s.a.createElement("li",null,this.props.isUserLoggedIn?s.a.createElement("span",{className:"cd-main-nav__item top-bar-nav--welcome-msg",href:"#0"},"Hi there, ".concat(this.props.username)):s.a.createElement("a",{className:"cd-main-nav__item cd-main-nav__item--signin",href:"#0",onClick:this.openModalWithForm(T)},"Sign in")),s.a.createElement("li",null,this.props.isUserLoggedIn?s.a.createElement("a",{className:"cd-main-nav__item top-bar-nav__item--logout",href:"#0",onClick:this.logoutClickHandler},"Log out"):s.a.createElement("a",{className:"cd-main-nav__item cd-main-nav__item--signup",href:"#0",onClick:this.openModalWithForm(U)},"Sign up"))))),s.a.createElement(ue,{isModalOpen:this.state.isModalOpen,formToOpen:this.state.formToOpen,closeModal:this.closeModal,openModalWithForm:this.openModalWithForm}))}}]),t}(i.Component)),ve=Object(h.b)(function(e){return{isUserLoggedIn:e.User.isUserLoggedIn,username:e.User.username}},{logUserOut:Z})(ge);function fe(e){if("number"!==typeof e||e<0||e>1440)return new Error("Invalid input for toTimeString()");var t=~~(e/60),a=~~(e%60);return t=t<10?"0"+t:String(t),a=a<10?"0"+a:String(a),"".concat(t,":").concat(a)}function be(e){if(!e)return 0;if("string"!==typeof e)return new Error("Invalid input for toNumberOfMinutes()");var t=e.split(":");return 2!==t.length?new Error("Invalid input for toNumberOfMinutes()"):60*parseInt(t[0])+parseInt(t[1])}a(254);var Ee=function(e){for(var t=e.from,a=e.to,n=[],i=t;i<a;i+=w)n.push(s.a.createElement("li",{key:i},s.a.createElement("span",null,fe(i))));return s.a.createElement("div",{className:"timeline"},s.a.createElement("ul",null,n))},_e=a(113),Oe=a.n(_e),ye=function(e){if(!Number.isInteger(e))return console.error("Input ".concat(e," for toHexColor() is invalid")),"#ffffff";if(e<0||e>16777215)return console.warn("Input ".concat(e," for toHexColor() is out of bound")),"#ffffff";for(var t=e.toString(16);t.length<6;)t="0"+t;return"#"+t},Se=function(e){if("string"!==typeof e||7!==e.length||"#"!==e.charAt(0))return console.error("Input ".concat(e," for toDecimal() is invalid")),0;var t=parseInt(e.slice(1),16);return Number.isNaN(t)?(console.warn("Input ".concat(e," for toDecimal() is not a valid hex color string")),16777215):t};a(256);var we=function(e){var t=e.event,a=e.timelineFrom,n=e.isOnDesktop,i=e.openModal,o=t.eventId,r=t.title,l=t.color,c=t.startAt,d=t.endAt,m={backgroundColor:ye(l)},u=!0,p=!0,h=null,g=null;if(n){var v=d-c,f=C*(c-a)/w,b=C*v/w;m.top="".concat(f-1,"px"),m.height="".concat(b+1,"px"),p=v>=j,!(u=v>=N)&&p&&(g={lineHeight:m.height},h={paddingTop:"0em",paddingBottom:"0em"})}return s.a.createElement("li",{id:o,className:"single-event",style:m},s.a.createElement("a",{href:"#0",onClick:i,style:h},u&&s.a.createElement("span",{className:"event-date"},"".concat(fe(c)," - ").concat(fe(d))),p&&s.a.createElement("em",{className:"event-name",style:g},r)))},Ce=(a(258),function(e){return s.a.createElement(Oe.a,Object.assign({},e,{minWidth:800}))}),Ne=function(e){return s.a.createElement(Oe.a,Object.assign({},e,{maxWidth:799}))},je=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.events,a=e.weekday,n=e.timelineFrom,i=e.ulCSSHeight,o=e.openModalWithEvent;return s.a.createElement("li",{className:"events-group"},s.a.createElement("div",{className:"top-info"},s.a.createElement("span",null,a)),s.a.createElement(Ce,null,s.a.createElement("ul",{style:{height:i}},t.map(function(e){return s.a.createElement(we,{event:e,isOnDesktop:!0,key:e.eventId,timelineFrom:n,openModal:o(e)})}))),s.a.createElement(Ne,null,s.a.createElement("ul",null,t.map(function(e){return s.a.createElement(we,{event:e,isOnDesktop:!1,key:e.eventId,timelineFrom:n,openModal:o(e)})}))))}}]),t}(i.Component),Ae=a(115),Ie=a(199),ke=a(200),Me=a.n(ke),qe=a(202),Te=a.n(qe),Le=a(201),Ue=a.n(Le),De=a(41),Ve=(a(161),Object(De.withStyles)({root:{marginLeft:13},label:{fontSize:13}})(Me.a)),Pe=function(e){return Object(De.withStyles)(function(t){return{underline:{"&:before":{borderBottomColor:e},"&:after":{borderBottomColor:e}},input:{color:e,lineHeight:"1.1875em",fontFamily:"PT Sans",fontSize:"1.6rem"},label:{color:e,fontFamily:"PT Sans",fontSize:"1.6rem","&$labelFocused":{color:e}},labelFocused:{},helperText:{color:e,fontFamily:"PT Sans",fontSize:"1.1rem"}}})(function(e){var t=e.classes,a=Object(Ae.a)(e,["classes"]);return s.a.createElement(Ue.a,Object.assign({},a,{InputProps:{classes:{underline:t.underline,input:t.input}},InputLabelProps:{classes:{root:t.label,focused:t.labelFocused}},FormHelperTextProps:{classes:{root:t.helperText}}}))})},We=Pe("white"),xe=Pe("black"),Be=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).deriveStateFrom=function(e){var t=e.event?e.event:M,a=t.startAt,n=t.endAt,i=t.color,s=Object(Ae.a)(t,["startAt","endAt","color"]);return Object(f.a)({},s,{start:fe(a),end:fe(n),headerColor:ye(i),isWaitingApi:!1,error:{}})},a.handleSubmit=function(e){e.preventDefault();var t=a.props,n=t.events,i=t.setError,s=t.addEvent,o=t.updateEvent,r=t.isUserLoggedIn,l=t.handleCloseModal,c=a.state,d=c.title,m=c.location,u=c.description,p=c.start,h=c.end,g=c.weekday,v=c.headerColor,f=!!a.props.event,b=f?a.props.event.eventId:Date.now().toString(),E=be(p),_=be(h);if(E>=_)return a.setState({error:{start:"Invalid interval",end:"Invalid interval"}});for(var O=n.filter(function(e){return e.weekday===g&&e.eventId!==b}),S=0;S<O.length;S++){var w=O[S];if(!(_<=w.startAt||E>=w.endAt))return a.setState({error:{start:"Overlapping interval",end:"Overlapping interval"}})}var C,N=Se(v),j={title:d,location:m,description:u,startAt:E,endAt:_,weekday:g,color:N};return r?(a.setState({isWaitingApi:!0}),C=f?y.a.patch("".concat(F,"/").concat(b),{data:j}).then(function(e){return e.data.data.updatedEvent}):y.a.post("".concat(F),j).then(function(e){return e.data.data.savedEvent})):(j.eventId=b,C=Promise.resolve(j)),C.then(function(e){console.log("Event data: ",e),a.setState({isWaitingApi:!1}),f?o(e):s(e),a.setState(a.deriveStateFrom(a.props)),l();var t=f?"\u270f\ufe0f Event updated!":"\ud83d\udccc Event added!";Object(J.toast)(t)}).catch(function(e){if(a.setState({isWaitingApi:!1}),e.response){var t=e.response.data.error;i(t),l()}else J.toast.warn("\ud83d\ude31 Connection to server failed")})},a.handleColorChange=function(e,t){a.setState({headerColor:e.hex})},a.handleChange=function(e){return function(t){var n;a.setState((n={},Object(Q.a)(n,e,t.target.value),Object(Q.a)(n,"error",{}),n))}},a.handleDiscard=function(e){e.preventDefault(),a.props.event?a.props.setViewMode():(a.setState(a.deriveStateFrom(a.props)),a.props.handleCloseModal())},a.state=a.deriveStateFrom(e),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e){e.event!==this.props.event&&this.setState(this.deriveStateFrom(this.props))}},{key:"render",value:function(){var e=this.props.handleCloseModal,t=this.state,a=t.title,n=t.location,i=t.description,o=t.start,r=t.end,l=t.weekday,c=t.headerColor,d=t.isWaitingApi,m=t.error,u={backgroundColor:c};return s.a.createElement("form",{className:"event-form edit",onSubmit:this.handleSubmit},s.a.createElement("div",{className:"header",style:u},s.a.createElement("div",{className:"content"},s.a.createElement(We,{required:!0,id:"title",label:"Title",value:a,onChange:this.handleChange("title"),margin:"none",error:!!m.title,helperText:m.title}))),s.a.createElement("div",{className:"body"},s.a.createElement("div",{className:"event-info"},s.a.createElement("div",{className:"time-picker"},s.a.createElement(xe,{required:!0,type:"time",id:"start",label:"Start",value:o,onChange:this.handleChange("start"),margin:"none",inputProps:{step:300},error:!!m.start,helperText:m.start}),s.a.createElement(xe,{required:!0,type:"time",id:"end",label:"End",value:r,onChange:this.handleChange("end"),margin:"none",inputProps:{step:300},error:!!m.end,helperText:m.end}),s.a.createElement(xe,{select:!0,required:!0,id:"weekday",label:"Weekday",margin:"none",value:l,onChange:this.handleChange("weekday")},k.map(function(e,t){return s.a.createElement(Te.a,{key:t,value:t,style:{fontSize:14}},e)}))),s.a.createElement("div",{className:"location-textfield"},s.a.createElement(xe,{fullWidth:!0,id:"location",label:"Location",value:n,onChange:this.handleChange("location"),margin:"normal"})),s.a.createElement("div",{className:"description-textfield"},s.a.createElement(xe,{multiline:!0,fullWidth:!0,id:"description",label:"Description",value:i,onChange:this.handleChange("description"),rows:"3",margin:"normal"})),s.a.createElement("div",{className:"color-picker"},s.a.createElement("span",{className:"color-picker-indicater"},"Color *"),s.a.createElement(Ie.TwitterPicker,{triangle:"hide",width:"280px",color:c,colors:q,onChangeComplete:this.handleColorChange}))),s.a.createElement("div",{className:"buttons-bar"},s.a.createElement(Ve,{onClick:this.handleDiscard,disabled:d},"Discard"),s.a.createElement(Ve,{type:"submit",color:"primary",disabled:d},d?"Waiting API...":"Confirm"))),s.a.createElement("a",{href:"#0",className:"close",onClick:e},"Close"))}}]),t}(i.Component),Re={addEvent:function(e){return function(t){t({type:"ADD_EVENT",event:e})}},updateEvent:function(e){return function(t){t({type:"UPDATE_EVENT",newEvent:e})}},setError:G},Fe=Object(h.b)(function(e){return{isUserLoggedIn:e.User.isUserLoggedIn,events:e.Event.events}},Re)(Be),He=a(203),ze=a.n(He),Ke=a(204),Ye=a.n(Ke),Ge=a(114),Xe=a.n(Ge),$e=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={isWaitingApi:!1},a.handleEditOnClick=function(e){e.preventDefault(),a.props.setEditMode()},a.handleDeleteOnClick=function(e){e.preventDefault();var t,n=a.props,i=n.deleteEvents,s=n.handleCloseModal,o=n.setError,r=a.props.event?[a.props.event.eventId]:[];return a.props.isUserLoggedIn?(a.setState({isWaitingApi:!0}),t=y.a.delete("".concat(F),{data:{eventIds:r}}).then(function(e){return a.setState({isWaitingApi:!1}),e.data.data.deletedEventsId})):t=Promise.resolve(r),t.then(function(e){console.log("Deleted events id: ",e),i(e),s(),Object(J.toast)("\u2702\ufe0f Event deleted!")}).catch(function(e){if(a.setState({isWaitingApi:!1}),e.response){var t=e.response.data.error;o(t),s()}else J.toast.warn("\ud83d\ude31 Connection to server failed")})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.handleCloseModal,t=this.state.isWaitingApi,a=this.props.event?this.props.event:M,n=a.title,i=a.location,o=a.description,r=a.color,l=a.startAt,c=a.endAt,d={backgroundColor:ye(r)};return s.a.createElement("div",{className:"event-form"},s.a.createElement("div",{className:"header",style:d},s.a.createElement("div",{className:"content"},s.a.createElement("span",{className:"event-date"},"".concat(fe(l)," - ").concat(fe(c))),s.a.createElement("h3",{className:"event-name"},n))),s.a.createElement("div",{className:"body"},s.a.createElement("div",{className:"event-info"},i&&s.a.createElement("span",{className:"event-location"},i),s.a.createElement("div",{className:"event-description"},o)),s.a.createElement("div",{className:"buttons-bar"},s.a.createElement(Xe.a,{"aria-label":"Edit",disabled:t,style:{marginLeft:15},onClick:this.handleEditOnClick},s.a.createElement(ze.a,{style:{width:28,height:28}})),s.a.createElement(Xe.a,{"aria-label":"Delete",disabled:t,style:{marginLeft:15},onClick:this.handleDeleteOnClick},s.a.createElement(Ye.a,{style:{width:28,height:28}})))),s.a.createElement("a",{href:"#0",className:"close",onClick:e},"Close"))}}]),t}(i.Component),Ze={deleteEvents:function(e){return function(t){t({type:"DELETE_EVENTS",eventIdsToDelete:e})}},setError:G},Je=Object(h.b)(function(e){return{isUserLoggedIn:e.User.isUserLoggedIn}},Ze)($e),Qe=(a(550),document.getElementById("event-modal-root")),et=27,tt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).escKeyDownHandler=function(e){e.stopPropagation(),a.props.isModalOpen&&e.keyCode===et&&a.props.closeModal()},a.setViewMode=function(){a.props.setIsEditMode(!1)},a.setEditMode=function(){a.props.setIsEditMode(!0)},a.handleCloseModal=function(e){e&&(e.preventDefault(),e.stopPropagation()),a.props.closeModal()},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.escKeyDownHandler)}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.isModalOpen,n=t.eventToShow;if(!e.isModalOpen&&a&&n&&document.getElementById(n.eventId).classList.add("selected-event"),e.isModalOpen&&!a&&e.eventToShow){var i=e.eventToShow.eventId,s=document.getElementById(i);s&&s.classList.remove("selected-event")}}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.escKeyDownHandler)}},{key:"render",value:function(){var e=this.props,t=e.isModalOpen,a=e.isEditMode,n=e.eventToShow;return r.a.createPortal(s.a.createElement("div",{className:t?"event-modal modal-is-visible":"event-modal"},s.a.createElement("div",{className:"cover-layer",onClick:this.handleCloseModal}),s.a.createElement("div",{className:"event-form_container"},a?s.a.createElement(Fe,{event:n,setViewMode:this.setViewMode,handleCloseModal:this.handleCloseModal}):s.a.createElement(Je,{event:n,setEditMode:this.setEditMode,handleCloseModal:this.handleCloseModal}))),Qe)}}]),t}(i.Component),at=Object(h.b)(function(e){return{}},{})(tt),nt=a(206),it=a.n(nt),st=a(208),ot=a.n(st),rt=a(205),lt=a.n(rt),ct=a(207),dt=a.n(ct),mt=(a(552),Object(De.withStyles)({tooltip:{fontSize:13}})(lt.a)),ut=Object(De.withStyles)({root:{position:"fixed",right:"40px",bottom:"35px",zIndex:2,width:"70px",height:"70px"}})(it.a),pt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).openModalWithEvent=function(e){return function(t){t.preventDefault(),a.setState({isModalOpen:!0,isEditMode:!1,eventToShowInModal:e})}},a.setIsEditMode=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];a.setState({isEditMode:e})},a.closeModal=function(e){e&&e.preventDefault(),a.setState({isModalOpen:!1})},a.addButtonClickHandler=function(e){e.preventDefault(),e.stopPropagation(),a.setState({isModalOpen:!0,isEditMode:!0,eventToShowInModal:null})},a.organizeEventsByWeekday=function(e){for(var t=A,a=I,n=[],i=0;i<k.length;i++)n[i]=[];if(Array.isArray(e)){e.sort(function(e,t){return e.startAt-t.startAt});for(var s=0;s<e.length;s++){var o=e[s],r=o.weekday,l=o.startAt,c=o.endAt;l<t&&(t=l<=0?0:Math.floor(l/w)*w),c>a&&(a=c>=1440?1440:Math.ceil(c/w)*w),n[r].push(o)}}return{eventsByWeekday:n,timelineFrom:t,timelineTo:a,eventsGroupUlHeight:Math.ceil((a-t)/w)*C}},a.state=Object(f.a)({isModalOpen:!1,isEditMode:!1,eventToShowInModal:null},a.organizeEventsByWeekday(e.events)),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e,t){if(e.events!==this.props.events&&this.setState(this.organizeEventsByWeekday(this.props.events)),this.props.error){console.log(this.props.error);var a=this.props.error;if(a.code){var n=a.name;if(H[n]){var i="\ud83d\ude05 Token expired, pls sign in again";n===H.DeletedUser&&(i="\ud83d\ude05 Account deleted, pls sign up"),J.toast.warn(i),this.props.logUserOut()}else K[n]&&(J.toast.warn("\ud83d\ude05 Event not found, reloading events"),this.props.loadUserEvents())}this.props.clearError()}}},{key:"render",value:function(){var e=this,t=this.props.isLoadingUserEvents,a=this.state,n=a.isEditMode,i=a.isModalOpen,o=a.eventToShowInModal,r=a.eventsByWeekday,l=a.timelineFrom,c=a.timelineTo,d=a.eventsGroupUlHeight;return s.a.createElement("div",{className:"cd-schedule"},t&&s.a.createElement("div",{className:"progress-container"},s.a.createElement(dt.a,{color:"secondary"}),s.a.createElement("div",null,"Loading events...")),s.a.createElement(Ee,{from:l,to:c}),s.a.createElement("div",{className:"events"},s.a.createElement("ul",null,k.map(function(t,a){return s.a.createElement(je,{key:a,weekday:t,events:r[a],timelineFrom:l,ulCSSHeight:d,openModalWithEvent:e.openModalWithEvent})}))),!t&&s.a.createElement(mt,{title:"Add Event",placement:"top","aria-label":"Add Event"},s.a.createElement(ut,{color:"secondary","aria-label":"Add",onClick:this.addButtonClickHandler},s.a.createElement(ot.a,{style:{width:"30px",height:"30px"}}))),s.a.createElement(at,{closeModal:this.closeModal,isEditMode:n,isModalOpen:i,eventToShow:o,setIsEditMode:this.setIsEditMode}))}}]),t}(i.Component),ht=Object(h.b)(function(e){return{isUserLoggedIn:e.User.isUserLoggedIn,isLoadingUserEvents:e.Event.isLoadingUserEvents,events:e.Event.events,error:e.Event.error}},{logUserOut:Z,loadUserEvents:X,clearError:function(){return function(e){e({type:"CLEAR_ERROR"})}}})(pt),gt=a(209),vt=a.n(gt);a(560);function ft(){return s.a.createElement("div",{className:"bottom-info"},s.a.createElement("a",{href:"https://github.com/ALMA-DEV914",target:"_blank",rel:"noopener noreferrer"},s.a.createElement("img",{src:vt.a,alt:"Github",className:"github-logo"})))}a(562),a(564);window.__MUI_USE_NEXT_TYPOGRAPHY_VARIANTS__=!0;var bt=[_.a],Et=window.__REDUX_DEVTOOLS_EXTENSION__?Object(p.d)(p.a.apply(void 0,bt),window.__REDUX_DEVTOOLS_EXTENSION__()):Object(p.d)(p.a.apply(void 0,bt)),_t=Object(p.e)(E,Et),Ot=localStorage.getItem("USERNAME_KEY"),yt=localStorage.getItem("TOKEN_KEY"),St=localStorage.getItem("EXPIRESAT_KEY"),wt=Date.now()+144e5;Ot&&yt&&St&&St>wt?_t.dispatch($({username:Ot,token:yt},!1)):_t.dispatch(function(e){e(Y(S))});var Ct=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement(h.a,{store:_t},s.a.createElement("div",null,s.a.createElement(ve,null),s.a.createElement(ht,null),s.a.createElement(ft,null),s.a.createElement(J.ToastContainer,{position:J.toast.POSITION.TOP_CENTER,autoClose:3500,toastClassName:"toast",hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0})))}}]),t}(i.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(Ct,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},81:function(e,t,a){}},[[211,2,1]]]);
//# sourceMappingURL=main.95c6d901.chunk.js.map