{"ast":null,"code":"import _classCallCheck from \"/Users/almabraun/Event-Scheduler/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/almabraun/Event-Scheduler/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/almabraun/Event-Scheduler/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/almabraun/Event-Scheduler/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/almabraun/Event-Scheduler/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/almabraun/Event-Scheduler/client/src/components/App.js\";\nimport React, { Component } from \"react\";\nimport { createStore, compose, applyMiddleware } from \"redux\";\nimport { Provider } from \"react-redux\";\nimport reducer from \"../reducers\";\nimport thunk from \"redux-thunk\";\nimport { signUserIn } from \"../actions/userActions.js\";\nimport { loadDemoEvents } from \"../actions/eventActions.js\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport { LOCAL_USERNAME_KEY, LOCAL_TOKEN_KEY, LOCAL_EXPIRESAT_KEY, LEAST_TOKEN_AVAILABLE_INTERVAL } from \"../constants\";\nimport TopBar from \"./TopBar\";\nimport Schedule from \"./Schedule\";\nimport BottomInfo from \"./BottomInfo\";\nimport \"react-toastify/dist/ReactToastify.min.css\";\nimport \"../styles/App.css\";\nwindow.__MUI_USE_NEXT_TYPOGRAPHY_VARIANTS__ = true;\nvar middlewares = [thunk]; // fix app crash on browser which has no redux devtools extension\n\nvar enhancer = window.__REDUX_DEVTOOLS_EXTENSION__ ? compose(applyMiddleware.apply(void 0, middlewares), window.__REDUX_DEVTOOLS_EXTENSION__()) : compose(applyMiddleware.apply(void 0, middlewares));\nvar store = createStore(reducer, enhancer); // check if token exists and valid at initialization\n\nvar username = localStorage.getItem(LOCAL_USERNAME_KEY);\nvar token = localStorage.getItem(LOCAL_TOKEN_KEY);\nvar expiresAt = localStorage.getItem(LOCAL_EXPIRESAT_KEY); // token must be valid until this time, or user need to sign in again\n\nvar leastValidUntil = Date.now() + LEAST_TOKEN_AVAILABLE_INTERVAL;\n\nif (username && token && expiresAt && expiresAt > leastValidUntil) {\n  store.dispatch(signUserIn({\n    username: username,\n    token: token\n  }, false));\n} else {\n  store.dispatch(loadDemoEvents());\n}\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    _classCallCheck(this, App);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(App).apply(this, arguments));\n  }\n\n  _createClass(App, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Provider, {\n        store: store,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(TopBar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }), React.createElement(Schedule, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }), React.createElement(BottomInfo, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }), React.createElement(ToastContainer, {\n        position: toast.POSITION.TOP_CENTER,\n        autoClose: 3500,\n        toastClassName: \"toast\",\n        hideProgressBar: false,\n        newestOnTop: false,\n        closeOnClick: true,\n        rtl: false,\n        pauseOnVisibilityChange: true,\n        draggable: true,\n        pauseOnHover: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/almabraun/Event-Scheduler/client/src/components/App.js"],"names":["React","Component","createStore","compose","applyMiddleware","Provider","reducer","thunk","signUserIn","loadDemoEvents","ToastContainer","toast","LOCAL_USERNAME_KEY","LOCAL_TOKEN_KEY","LOCAL_EXPIRESAT_KEY","LEAST_TOKEN_AVAILABLE_INTERVAL","TopBar","Schedule","BottomInfo","window","__MUI_USE_NEXT_TYPOGRAPHY_VARIANTS__","middlewares","enhancer","__REDUX_DEVTOOLS_EXTENSION__","store","username","localStorage","getItem","token","expiresAt","leastValidUntil","Date","now","dispatch","App","POSITION","TOP_CENTER"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,WAAT,EAAsBC,OAAtB,EAA+BC,eAA/B,QAAsD,OAAtD;AACA,SAASC,QAAT,QAAyB,aAAzB;AACA,OAAOC,OAAP,MAAoB,aAApB;AACA,OAAOC,KAAP,MAAkB,aAAlB;AACA,SAASC,UAAT,QAA2B,2BAA3B;AACA,SAASC,cAAT,QAA+B,4BAA/B;AACA,SAASC,cAAT,EAAyBC,KAAzB,QAAsC,gBAAtC;AACA,SACIC,kBADJ,EAEIC,eAFJ,EAGIC,mBAHJ,EAIIC,8BAJJ,QAKO,cALP;AAMA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAO,2CAAP;AACA,OAAO,mBAAP;AAEAC,MAAM,CAACC,oCAAP,GAA8C,IAA9C;AAEA,IAAMC,WAAW,GAAG,CAACd,KAAD,CAApB,C,CAEA;;AACA,IAAMe,QAAQ,GAAGH,MAAM,CAACI,4BAAP,GACXpB,OAAO,CACHC,eAAe,MAAf,SAAmBiB,WAAnB,CADG,EAEHF,MAAM,CAACI,4BAAP,EAFG,CADI,GAKXpB,OAAO,CAACC,eAAe,MAAf,SAAmBiB,WAAnB,CAAD,CALb;AAOA,IAAMG,KAAK,GAAGtB,WAAW,CAACI,OAAD,EAAUgB,QAAV,CAAzB,C,CAEA;;AACA,IAAMG,QAAQ,GAAGC,YAAY,CAACC,OAAb,CAAqBf,kBAArB,CAAjB;AACA,IAAMgB,KAAK,GAAGF,YAAY,CAACC,OAAb,CAAqBd,eAArB,CAAd;AACA,IAAMgB,SAAS,GAAGH,YAAY,CAACC,OAAb,CAAqBb,mBAArB,CAAlB,C,CACA;;AACA,IAAMgB,eAAe,GAAGC,IAAI,CAACC,GAAL,KAAajB,8BAArC;;AACA,IAAIU,QAAQ,IAAIG,KAAZ,IAAqBC,SAArB,IAAkCA,SAAS,GAAGC,eAAlD,EAAmE;AAC/DN,EAAAA,KAAK,CAACS,QAAN,CAAezB,UAAU,CAAC;AAAEiB,IAAAA,QAAQ,EAARA,QAAF;AAAYG,IAAAA,KAAK,EAALA;AAAZ,GAAD,EAAsB,KAAtB,CAAzB;AACH,CAFD,MAEO;AACHJ,EAAAA,KAAK,CAACS,QAAN,CAAexB,cAAc,EAA7B;AACH;;IAEKyB,G;;;;;;;;;;;;;6BACO;AACL,aACI,oBAAC,QAAD;AAAU,QAAA,KAAK,EAAEV,KAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEI,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,EAGI,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHJ,EAII,oBAAC,cAAD;AACI,QAAA,QAAQ,EAAEb,KAAK,CAACwB,QAAN,CAAeC,UAD7B;AAEI,QAAA,SAAS,EAAE,IAFf;AAGI,QAAA,cAAc,EAAC,OAHnB;AAII,QAAA,eAAe,EAAE,KAJrB;AAKI,QAAA,WAAW,EAAE,KALjB;AAMI,QAAA,YAAY,MANhB;AAOI,QAAA,GAAG,EAAE,KAPT;AAQI,QAAA,uBAAuB,MAR3B;AASI,QAAA,SAAS,MATb;AAUI,QAAA,YAAY,MAVhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJJ,CADJ,CADJ;AAqBH;;;;EAvBanC,S;;AA0BlB,eAAeiC,GAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { createStore, compose, applyMiddleware } from \"redux\";\nimport { Provider } from \"react-redux\";\nimport reducer from \"../reducers\";\nimport thunk from \"redux-thunk\";\nimport { signUserIn } from \"../actions/userActions.js\";\nimport { loadDemoEvents } from \"../actions/eventActions.js\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport {\n    LOCAL_USERNAME_KEY,\n    LOCAL_TOKEN_KEY,\n    LOCAL_EXPIRESAT_KEY,\n    LEAST_TOKEN_AVAILABLE_INTERVAL\n} from \"../constants\";\nimport TopBar from \"./TopBar\";\nimport Schedule from \"./Schedule\";\nimport BottomInfo from \"./BottomInfo\";\nimport \"react-toastify/dist/ReactToastify.min.css\";\nimport \"../styles/App.css\";\n\nwindow.__MUI_USE_NEXT_TYPOGRAPHY_VARIANTS__ = true;\n\nconst middlewares = [thunk];\n\n// fix app crash on browser which has no redux devtools extension\nconst enhancer = window.__REDUX_DEVTOOLS_EXTENSION__\n    ? compose(\n          applyMiddleware(...middlewares),\n          window.__REDUX_DEVTOOLS_EXTENSION__()\n      )\n    : compose(applyMiddleware(...middlewares));\n\nconst store = createStore(reducer, enhancer);\n\n// check if token exists and valid at initialization\nconst username = localStorage.getItem(LOCAL_USERNAME_KEY);\nconst token = localStorage.getItem(LOCAL_TOKEN_KEY);\nconst expiresAt = localStorage.getItem(LOCAL_EXPIRESAT_KEY);\n// token must be valid until this time, or user need to sign in again\nconst leastValidUntil = Date.now() + LEAST_TOKEN_AVAILABLE_INTERVAL;\nif (username && token && expiresAt && expiresAt > leastValidUntil) {\n    store.dispatch(signUserIn({ username, token }, false));\n} else {\n    store.dispatch(loadDemoEvents());\n}\n\nclass App extends Component {\n    render() {\n        return (\n            <Provider store={store}>\n                <div>\n                    <TopBar />\n                    <Schedule />\n                    <BottomInfo />\n                    <ToastContainer\n                        position={toast.POSITION.TOP_CENTER}\n                        autoClose={3500}\n                        toastClassName=\"toast\"\n                        hideProgressBar={false}\n                        newestOnTop={false}\n                        closeOnClick\n                        rtl={false}\n                        pauseOnVisibilityChange\n                        draggable\n                        pauseOnHover\n                    />\n                </div>\n            </Provider>\n        );\n    }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}